(()=>{let e=!1,t=!1;const n="ul.ActionList.ActionList--subGroup",l=1,i=2,o=3;let r,s={},a={};async function d(e){if("true"===e.target.getAttribute("data-ghflexible-form")){a={},await async function(e){for(let t=0;t<1e5;t++)if(await p(10),1!==e.querySelectorAll("form").length&&"true"!==e.querySelectorAll("form")[1].getAttribute("data-ghflexible-form"))return void e.querySelectorAll("form").forEach((e=>{const t=e.getAttribute("method");"post"==t&&e.remove(),"get"==t&&e.setAttribute("data-ghflexible-form","true")}))}(r),await async function(){const e=document.querySelector(n);await j(e,(async function(e){B(e)&&k(e)}))}();const e=document.querySelector(n),t=se();await j(e,(async function(e){if(B(e)){const n=e.children[3];a[N(e)]||v(e)||!n.checked||(await ce(e,t),A(e),E(e))}})),m(),W(e,(async function(e){B(e)&&!a[N(e)]&&(await ce(e,t),v(e)||(A(e),E(e)))})),fe(r,"GHflexible-click-group-build"),r.querySelector("details.details-reset.details-overlay.d-inline-block").onclick=async function(){fe(r,"GHflexible-click-group-build")}}}function u(e){e.target.classList.contains("GHflexible-contextmenu")||le()}function f(e){L(e.target,"GHflexible-click-group-build")||w()}function h(){let e=document.querySelector(n),t=!1;for(let n=0;n<e.children.length;n++){let l=e.children[n];"workflows-show-more"==l.getAttribute("data-test-selector")&&null===l.getAttribute("hidden")&&(t=l.children[0])}return t}function p(e){return new Promise(((t,n)=>{setTimeout((()=>{t("result")}),e)}))}function m(){const e=document.querySelector(n),t=[];W(e,(function(e){B(e)&&t.push(e.children[3])}));const l=ie(t),i=r.querySelector("div.workflow-dispatch");i.children[1]&&i.children[1].remove(),i.appendChild(l)}function g(){const t=document.querySelector(n);e=!1,W(t,(function(e){e.ondragstart=null,e.oncontextmenu=null,e.onmousedown=null,z(e)&&(e.children[2].setAttribute("hidden",""),e.children[0].onmousedown=e.saveFunc,e.children[1].onmousedown=e.saveFunc),B(e)&&e.children[2].setAttribute("hidden","")})),K()}function b(e,t){for(let n=0;n<e.children.length;n++)if(t==e.children[n])return n}function w(){if(!t)return;const e=document.querySelector(n),l=[];for(c of(W(e,(function(e){if(B(e)){const t=e.children[3];l.push(t)}})),m(),l))c.setAttribute("hidden","");Z(),r.remove(),t=!1}function y(e,t){e.children[0].children[0].appendChild(t)}function x(){const e=function(){const e=document.createElement("svg"),t=C();return e.innerHTML=`<svg fill="${t}" version="1.1" id="Layer_1" xmlns="http://www.w3.org/2000/svg" xmlns:xlink="http://www.w3.org/1999/xlink" viewBox="0 0 512 512" xml:space="preserve"><g><g><polygon points="175.425,9.748 175.425,25.477 463.788,25.477 463.788,31.768 479.517,31.768 479.517,9.748"/></g></g><g><g><path d="M70.566,384.21v-8.504H54.837v8.504H0V512h127.79V384.21H70.566z M112.061,496.271H15.729v-96.332h96.332V496.271z"/></g></g><g><g><path d="M455.399,384.21v-8.504H439.67v8.504h-55.46V512H512V384.21H455.399z M496.271,496.271h-96.332v-96.332h96.332V496.271z"/></g></g><g><g><path d="M261.41,384.21v-8.504h-15.729v8.504h-53.576V512h127.79V384.21H261.41z M304.166,496.271h-96.332v-96.332h96.332V496.271 z"/></g></g><g><g><path d="M487.987,319.895V40.022H167.811L167.808,0H24.013v319.895H245.68v18.062H54.837v30.409h15.729v-14.68h175.115v14.68 h15.729v-14.68H439.67v14.68h15.729v-30.409H261.41v-18.062H487.987z M39.742,304.166V15.729h112.34l0.003,40.022h320.174v248.416 H39.742z"/></g></g><g><g><path d="M256.001,88.048c-48.473,0-87.909,39.435-87.909,87.909c0,48.473,39.435,87.909,87.909,87.909 c48.473,0,87.908-39.435,87.908-87.909C343.909,127.484,304.473,88.048,256.001,88.048z M256.001,248.137 c-39.8,0-72.18-32.379-72.18-72.18c0-39.8,32.379-72.18,72.18-72.18c39.799,0,72.179,32.379,72.179,72.18 C328.18,215.757,295.8,248.137,256.001,248.137z"/></g></g><g><g><path d="M256.001,112.061c-35.233,0-63.896,28.663-63.896,63.896s28.663,63.896,63.896,63.896 c35.232,0,63.895-28.663,63.895-63.896S291.232,112.061,256.001,112.061z M256.001,224.123c-26.559,0-48.167-21.607-48.167-48.167 c0-26.559,21.608-48.167,48.167-48.167c26.559,0,48.166,21.607,48.166,48.167C304.166,202.516,282.56,224.123,256.001,224.123z"/></g></g><g><g><polygon points="282.456,154.386 247.996,188.848 229.544,170.395 218.422,181.518 247.996,211.092 293.579,165.51 "/></g></g><g><g><rect x="55.89" y="32.821" width="15.729" height="15.729"/></g></g><g><g><rect x="87.348" y="32.821" width="15.729" height="15.729"/></g></g><g><g><rect x="118.805" y="32.821" width="16.777" height="15.729"/></g></g></svg>`,e.firstChild}();return e.style.marginRight="0.5em",e.style.width="20px",e.style.height="20px",e.style.cursor="pointer",fe(e,"GHflexible-click-group-build"),e.onclick=function(){const e=document.querySelector(n);if(t)w(),Z();else{t=!0,g(),document.querySelector("body").appendChild(r);const n=document.querySelector("div.PageLayout-region.PageLayout-content").getBoundingClientRect();r.style.top=n.top+window.scrollY+"px",r.style.left=n.left+window.scrollX+"px",W(e,(async function(e){B(e)&&(a[N(e)]||v(e)||(console.log(`# Run getParams for workflow: ${N(e)}, when groupBuildClick`),await ce(e,se())),E(e))})),Z()}},e}function v(e){return!V(e)&&(ne(e)||B(e)||R(e)?v(e.parentElement):!(!z(e)||"false"!=e.getAttribute("data-ghflexible-folder-open"))||!!z(e)&&v(e.parentElement))}function L(e,t){return!!e.classList.contains(t)||!!e.parentElement&&(!!e.parentElement.classList.contains(t)||L(e.parentElement,t))}function A(e){const t=e.children[3];t.disabled=!1,"false"===e.getAttribute("data-ghflexible-checkbox")&&(t.disabled=!0)}function k(e){e.children[3].setAttribute("hidden","")}function E(e){e.children[3].removeAttribute("hidden")}function H(){return window.getComputedStyle(document.querySelector("body")).colorScheme}function C(){return"dark"==H()?"#ffffff":"#000000"}function S(){const e=document.createElement("svg"),t=C();return e.innerHTML=`<svg fill="${t}" version="1.1" id="Capa_1" xmlns="http://www.w3.org/2000/svg" xmlns:xlink="http://www.w3.org/1999/xlink" width="15px" height="15px" viewBox="0 0 494.936 494.936"  xml:space="preserve"><g><g><path d="M389.844,182.85c-6.743,0-12.21,5.467-12.21,12.21v222.968c0,23.562-19.174,42.735-42.736,42.735H67.157c-23.562,0-42.736-19.174-42.736-42.735V150.285c0-23.562,19.174-42.735,42.736-42.735h267.741c6.743,0,12.21-5.467,12.21-12.21s-5.467-12.21-12.21-12.21H67.157C30.126,83.13,0,113.255,0,150.285v267.743c0,37.029,30.126,67.155,67.157,67.155h267.741c37.03,0,67.156-30.126,67.156-67.155V195.061C402.054,188.318,396.587,182.85,389.844,182.85z"/><path d="M483.876,20.791c-14.72-14.72-38.669-14.714-53.377,0L221.352,229.944c-0.28,0.28-3.434,3.559-4.251,5.396l-28.963,65.069c-2.057,4.619-1.056,10.027,2.521,13.6c2.337,2.336,5.461,3.576,8.639,3.576c1.675,0,3.362-0.346,4.96-1.057l65.07-28.963c1.83-0.815,5.114-3.97,5.396-4.25L483.876,74.169c7.131-7.131,11.06-16.61,11.06-26.692C494.936,37.396,491.007,27.915,483.876,20.791z M466.61,56.897L257.457,266.05c-0.035,0.036-0.055,0.078-0.089,0.107l-33.989,15.131L238.51,247.3c0.03-0.036,0.071-0.055,0.107-0.09L447.765,38.058c5.038-5.039,13.819-5.033,18.846,0.005c2.518,2.51,3.905,5.855,3.905,9.414C470.516,51.036,469.127,54.38,466.61,56.897z"/></g></g></svg>`,e.firstChild}function q(){const e=document.createElement("svg"),t=C();return e.innerHTML=`<svg width="15px" height="15px" viewBox="0 0 1024 1024" class="icon"  version="1.1" xmlns="http://www.w3.org/2000/svg"><path d="M786.358857 809.325714a88.356571 88.356571 0 0 1 176.566857 0 88.283429 88.283429 0 0 1-176.566857 0z m-274.797714 89.234286c-48.64 0-88.210286-39.497143-88.210286-88.064a88.210286 88.210286 0 0 1 176.420572 0c0 48.566857-39.570286 88.064-88.210286 88.064zM512.512 59.538286c48.566857 0 88.137143 39.497143 88.137143 87.917714a88.137143 88.137143 0 0 1-176.201143 0c0-48.493714 39.497143-87.917714 88.064-87.917714zM145.334857 896.731429c-48.64 0-88.210286-39.497143-88.210286-88.137143a88.283429 88.283429 0 0 1 176.493715 0c0 48.64-39.643429 88.137143-88.283429 88.137143zM905.069714 425.691429a29.549714 29.549714 0 0 0-8.265143-20.48 30.793143 30.793143 0 0 0-20.48-8.265143H541.257143V291.181714a147.309714 147.309714 0 0 0 117.906286-144.237714 147.163429 147.163429 0 0 0-294.253715 0c0 71.826286 49.883429 131.510857 118.125715 144.237714-0.146286 0.365714-1.974857 105.691429-1.974858 105.691429H147.675429a28.452571 28.452571 0 0 0-20.48 8.265143 30.134857 30.134857 0 0 0-8.923429 20.48l0.658286 241.590857c-59.245714 9.508571-118.345143 70.656-118.345143 143.725714 0 81.042286 65.974857 147.017143 147.090286 147.017143 81.188571 0 147.163429-65.974857 147.163428-147.017143 0-70.656-53.101714-131.437714-112.128-143.725714V464.969143h300.324572v191.488c0 3.730286 0.877714 7.094857 2.048 10.24a147.017143 147.017143 0 0 0-120.173715 144.237714 147.236571 147.236571 0 0 0 294.253715 0c0-71.899429-52.077714-131.657143-120.539429-144.237714a29.110857 29.110857 0 0 0 1.974857-10.24V464.969143h300.617143v202.24c-64.365714 14.116571-112.054857 73.142857-112.054857 143.725714a147.236571 147.236571 0 0 0 294.253714 0c0-72.996571-57.344-134.656-118.345143-144.530286 0.365714-1.097143 0-240.786286 0-240.786285z" fill="${t}" /></svg>`,e.firstChild}function G(){let e=S();return e.style.marginLeft="0em",e.style.cursor="text",e.onmousedown=function(t){t.stopPropagation(),t.preventDefault(),M(e,t)},e}function M(e,t){t.stopPropagation();let n=e.parentElement;const l=n.querySelector("input");if(l&&"text"==l.type)return;let i,o;t.preventDefault(),e.setAttribute("hidden",""),B(n)&&(o=n.children[1].children[0]),z(n)&&(o=n.children[1]),i=o.innerText,o.innerText="";let r=document.createElement("input");function c(t){t.stopPropagation(),t.preventDefault(),r&&null===r.getAttribute("data-ghflexible-event-lock")&&(r.setAttribute("data-ghflexible-event-lock",t.type),i=r.value,r.value="",o.innerText=i,n.setAttribute("data-ghflexible-rename",i),r.remove(),r.removeAttribute("data-ghflexible-event-lock"),r=null,e.removeAttribute("hidden"),Z())}r.value=i,r.type="text",o.before(r),r.focus(),r.select(),r.onmousedown=function(e){e.stopPropagation()},r.onclick=function(e){e.stopPropagation(),e.preventDefault()},r.onblur=function(e){c(e)},r.onchange=function(e){c(e)},r.onkeypress=function(e){"Enter"===e.key&&c(e)}}function T(e,t){e.setAttribute("data-ghflexible-element-indent",t.toString()),e.style.marginLeft=t/2+"em"}function P(e){let t=0,n=e;for(;!V(e);)z(e=e.parentElement)&&(t+=1);return e=n,t}function V(e){return"workflows-list"===e.getAttribute("data-test-selector")}function z(e){return"folder"===e.getAttribute("data-ghflexible-type")}function R(e){return"true"===e.getAttribute("data-ghflexible-folder-list")}function B(e){return"workflow"===e.getAttribute("data-ghflexible-type")}function D(e,t=e){const n=document.createElement("li");n.setAttribute("tabindex",-1),n.setAttribute("data-test-selector","workflow-rendered"),n.setAttribute("data-view-component",!0),n.setAttribute("data-ghflexible-type","folder"),n.setAttribute("data-ghflexible-name",e),n.setAttribute("data-ghflexible-rename",t),n.setAttribute("data-ghflexible-folder-open","false"),n.setAttribute("data-ghflexible-element-indent","0"),n.setAttribute("class","GHflexible-dir GHflexible-dropable"),n.style.listStyleType="none",n.style.outline="none";const l=document.createElement("span");l.setAttribute("class","ActionList-item-label ActionList-item-label--truncate"),l.innerText=t,l.style.marginRight="0.8em";const i=I();i.style.cursor="default",i.onmousedown=function(e){var t;e.stopPropagation(),"true"===(t=this.parentElement).getAttribute("data-ghflexible-folder-open")?O(t):_(t),Z(),K()},n.saveFunc=i.onmousedown,l.onmousedown=i.onmousedown;const o=document.createElement("ul");o.setAttribute("data-ghflexible-folder-list","true"),o.setAttribute("class","ActionList ActionList--subGroup");const r=te({first:!0});r.setAttribute("hidden",""),o.appendChild(r),n.appendChild(i),n.appendChild(l);const c=G();return c.setAttribute("hidden",""),n.appendChild(c),n.appendChild(o),g(),n}function I(){const e=document.createElement("svg"),t=C();return e.innerHTML=`<svg width="15px" height="15px" viewBox="0 0 512 512" version="1.1" xmlns="http://www.w3.org/2000/svg" xmlns:xlink="http://www.w3.org/1999/xlink">\n    <title>folder-outline</title><g id="Page-1" stroke="none" stroke-width="1" fill="none" fill-rule="evenodd"><g id="folder" fill="${t}" transform="translate(42.666667, 85.333333)"><path d="M426.666667,341.333333 L3.55271368e-14,341.333333 L3.55271368e-14,1.42108547e-14 L178.083413,1.42108547e-14 L232.041813,42.6666667 L426.666667,42.6666667 L426.666667,341.333333 Z M42.6666667,298.666667 L384,298.666667 L384,85.3333333 L217.20832,85.3333333 L163.24992,42.6666667 L42.6666667,42.6666667 L42.6666667,298.666667 Z" id="Shape"></path></g></g></svg>`,e.firstChild.style.marginRight="0.2em",e.firstChild}function F(e){"true"===e.getAttribute("data-ghflexible-folder-open")?_(e):O(e)}function O(e){e.setAttribute("data-ghflexible-folder-open","false");let n=e.children[0].onmousedown;e.replaceChild(I(),e.children[0]),e.children[0].onmousedown=n,e.children[0].style.cursor="default";let l=e.children[3];for(let e=0;e<l.children.length;e++){const n=l.children[e];n.setAttribute("hidden",""),(z(n)||B(n))&&T(n,P(n)),B(n)&&t&&k(n)}t&&m()}async function _(e){e.setAttribute("data-ghflexible-folder-open","true");let n=e.children[0].onmousedown;e.replaceChild(function(){const e=document.createElement("svg"),t=C();return e.innerHTML=`<svg fill="${t}" width="15px" height="15px" viewBox="0 0 512 512" xmlns="http://www.w3.org/2000/svg"><path fill-rule="evenodd" d="M384,128 L384,42.6666667 L232.0416,42.6666667 L178.0832,1.42108547e-14 L-2.13162821e-14,1.42108547e-14 L-2.13162821e-14,341.333333 L60.9376,341.333333 L363.416533,341.333333 L372.583253,341.333333 L437.333333,128 L384,128 Z M42.6666667,253.44 L42.6666667,42.6666667 L163.24992,42.6666667 L217.20832,85.3333333 L341.333333,85.3333333 L341.333333,128 L82.0209067,128 L42.6666667,253.44 Z M340.95808,298.666667 L73.1874133,298.666667 L113.354027,170.666667 L379.79136,170.666667 L340.95808,298.666667 Z" transform="translate(42.667 85.333)"/></svg>`,e.firstChild.style.marginRight="0.2em",e.firstChild}(),e.children[0]),e.children[0].onmousedown=n,e.children[0].style.cursor="default";let l=e.children[3];for(let e=0;e<l.children.length;e++){const n=l.children[e];n.removeAttribute("hidden"),(z(n)||B(n))&&T(n,P(n)),B(n)&&t&&E(n)}t&&m()}function $(e){return e.getAttribute("data-ghflexible-name")}function U(e){return e.getAttribute("data-ghflexible-rename")}function N(e){return e.getAttribute("data-ghflexible-name")}function X(e){return e.getAttribute("data-ghflexible-rename")}function Y(e){const t=e.children[1].href.split("/");return".github/"+t[t.length-2]+"/"+t[t.length-1]}function Z(){const e=document.querySelector(n);let l=0;W(e,(function(e){let t=parseInt(e.getAttribute("data-ghflexible-element-indent")),n=e.getAttribute("data-ghflexible-rename").length+t;n>l&&(l=n)}));const i=document.getElementsByClassName("PageLayout")[0];let o=10*l+66;o<256&&(o=256);const r=o+"px";i.style.setProperty("--Layout-pane-width",r),W(e,(function(e){const n=7*e.getAttribute("data-ghflexible-element-indent");if(z(e)){const l=e.children[1].getBoundingClientRect().width;let i=93;t&&(i=108),"svg"!=e.children[2].tagName&&"SVG"!=e.children[2].tagName||(e.children[2].style.marginLeft=o-i-n-l+"px")}}))}async function j(e,t){if(V(e))for(let n=0;n<e.children.length;n++)await j(e.children[n],t);if(z(e)&&(await t(e),await j(e.children[3],t)),R(e))for(let n=0;n<e.children.length;n++)await j(e.children[n],t);ne(e),B(e)&&await t(e)}function W(e,t){if(V(e))for(let n=0;n<e.children.length;n++)W(e.children[n],t);if(z(e)&&(t(e),W(e.children[3],t)),R(e))for(let n=0;n<e.children.length;n++)W(e.children[n],t);ne(e),B(e)&&t(e)}function J(){return"ghflexible/"+window.location.pathname.split("/")[1]+"/"+window.location.pathname.split("/")[2]}function K(){let e={type:o,title:"",list:[]};Q(document.querySelector(n),e),localStorage.setItem(J(),JSON.stringify(e))}function Q(e,t){if(V(e))for(let n=0;n<e.children.length;n++)Q(e.children[n],t);if(z(e)){let n={type:i,isOpen:"true"===e.getAttribute("data-ghflexible-folder-open"),name:$(e),title:U(e),list:[]};t.list.push(n),Q(e.children[3],n)}if(R(e))for(let n=0;n<e.children.length;n++)Q(e.children[n],t);if(ne(e),B(e)){let n={name:N(e),title:X(e),type:l,checkbox:e.getAttribute("data-ghflexible-checkbox")};t.list.push(n)}}function ee(e,t){if(e.type===o)for(const n in e.list)ee(e.list[n],t);if(e.type===i){let n=D(e.name,e.title);V(t)&&t.appendChild(n),z(t)&&(t.children[3].appendChild(n),F(t)),n.after(te()),n.setAttribute("data-ghflexible-folder-open","false"),e.isOpen&&n.setAttribute("data-ghflexible-folder-open","true"),T(n,P(n)),F(n);for(const t in e.list)ee(e.list[t],n)}if(e.type===l){const l=document.querySelector(n);let i,o;for(let t=0;t<l.children.length;t++){const n=l.children[t];if(B(n)&&N(n)===e.name){i=n,o=t;break}}i&&(i.children[1].children[0].innerText=e.title,i.setAttribute("data-ghflexible-rename",e.title),i.setAttribute("data-ghflexible-checkbox",e.checkbox),z(t)&&(t.children[3].appendChild(i),t.children[3].appendChild(l.children[o]),F(t)),V(t)&&(t.appendChild(i),t.appendChild(l.children[o])))}}function te({first:e}={first:!1}){let t=document.createElement("li");return t.setAttribute("data-ghflexible-dropable-line",""),t.classList.add("ActionList-item"),t.classList.add("GHflexible-dropable"),e&&t.classList.add("GHflexible-first-dropable"),t}function ne(e){return!(!e||""!==e.getAttribute("data-ghflexible-dropable-line"))}function le(){document.querySelectorAll(".GHflexible-contextmenu").forEach((e=>{e.remove(),delete e}))}function ie(e){let t=[];for(const n of e)n.checked&&null==n.getAttribute("hidden")&&!n.disabled&&t.push(N(n.parentElement));let n={},l={};for(let e=0;e<t.length;e++){const i=s[t[e]].params;l[e]||(n[t[e]]={names:[t[e]]});for(let o=e+1;o<t.length;o++)l[o]||de(i,s[t[o]].params,!1)&&(n[t[e]].names.push(t[o]),l[o]=!0)}const i=document.createElement("form");i.setAttribute("data-turbo","false"),i.setAttribute("accept-charset","UTF-8"),i.setAttribute("data-ghflexible-form","true"),i.classList.add("GHflexible-click-group-build");for(const e in n){const t=s[e].params,l=document.createElement("label");l.classList.add("color-fg-default"),l.classList.add("text-mono"),l.classList.add("f8"),l.classList.add("GHflexible-click-group-build"),l.title=n[e].names+":",l.innerText=n[e].names+":",n[e].names.length>3&&(l.innerText=s[n[e].names[0]].title+","+s[n[e].names[1]].title+", ...:"),t.length>0&&i.appendChild(l);let o=0;for(const n of t){if(!n.visible)continue;const t=document.createElement("div");if(t.classList.add("form-group"),t.classList.add("mt-1"),t.classList.add("mb-2"),t.classList.add("GHflexible-click-group-build"),n.required&&t.classList.add("required"),i.appendChild(t),"select"===n.type){const l=document.createElement("div");l.classList.add("form-group-header"),l.classList.add("GHflexible-click-group-build"),t.appendChild(l);const i=document.createElement("label");i.classList.add("color-fg-default"),i.classList.add("text-mono"),i.classList.add("f6"),i.classList.add("GHflexible-click-group-build"),i.innerText=n.name,l.appendChild(i);const r=document.createElement("div");r.classList.add("form-group-body"),r.classList.add("GHflexible-click-group-build"),t.appendChild(r);const c=document.createElement("select");c.classList.add("form-select"),c.classList.add("form-control"),c.classList.add("select-sm"),c.classList.add("input-contrast"),c.classList.add("width-full"),c.classList.add("GHflexible-click-group-build"),c.setAttribute("id","params"),c.setAttribute("workflow",e),c.setAttribute("name",n.input),n.required&&c.setAttribute("required",n.required),c.setAttribute("title",n.name),r.appendChild(c);const a=o;c.onchange=function(){s[e].params[a].value=c.value};for(const e of n.selectValues){const t=document.createElement("option");t.setAttribute("value",e),t.classList.add("GHflexible-click-group-build"),t.innerText=e,c.appendChild(t)}c.value=n.value}if("string"===n.type){const l=document.createElement("div");l.classList.add("form-group-header"),l.classList.add("GHflexible-click-group-build"),t.appendChild(l);const i=document.createElement("label");i.classList.add("color-fg-default"),i.classList.add("text-mono"),i.classList.add("f6"),i.classList.add("GHflexible-click-group-build"),i.innerText=n.name,l.appendChild(i);const r=document.createElement("div");r.classList.add("form-group-body"),r.classList.add("GHflexible-click-group-build"),t.appendChild(r);const c=document.createElement("input");c.classList.add("form-control"),c.classList.add("input-contrast"),c.classList.add("input-sm"),c.classList.add("GHflexible-click-group-build"),c.setAttribute("type","text"),c.value=n.value,c.setAttribute("id","params"),c.setAttribute("workflow",e),c.setAttribute("name",n.input),n.required&&c.setAttribute("required",n.required),c.setAttribute("title",n.name);const a=o;c.onchange=function(){s[e].params[a].value=c.value},r.appendChild(c)}if("boolean"===n.type){const l=document.createElement("div");l.classList.add("form-group-body"),l.classList.add("GHflexible-click-group-build"),t.appendChild(l);const i=document.createElement("div");i.classList.add("form-checkbox"),i.classList.add("my-0"),i.classList.add("GHflexible-click-group-build"),l.appendChild(i);const r=document.createElement("label");r.classList.add("color-fg-default"),r.classList.add("text-mono"),r.classList.add("f6"),r.classList.add("GHflexible-click-group-build"),r.innerText=n.name,i.appendChild(r);const c=document.createElement("input");c.classList.add("GHflexible-click-group-build"),c.setAttribute("type","checkbox"),c.checked=n.value,c.setAttribute("id","params"),c.setAttribute("workflow",e),c.setAttribute("name",n.input),c.setAttribute("title",n.name);const a=o;c.onchange=function(){s[e].params[a].value=c.checked},r.appendChild(c)}o++}}if(t.length>0){const e=document.createElement("button");e.classList.add("btn"),e.classList.add("btn-primary"),e.classList.add("btn-sm"),e.classList.add("t-2"),e.classList.add("GHflexible-click-group-build"),e.setAttribute("type","submit"),e.setAttribute("autofocus",""),e.innerHTML="Run workflows",i.appendChild(e)}return i.onsubmit=function(e){e.preventDefault();const t=window.location.pathname.split("/"),l=window.location.origin+"/"+t[1]+"/"+t[2]+"/actions/manual";for(const e in n){ws=n[e].names;for(const t of ws){const n={authenticity_token:s[t].token,workflow:s[t].workflowFile,show_workflow_tip:"",branch:i.parentElement.querySelector("span.css-truncate-target").innerText};i.querySelectorAll("#params").forEach((t=>{if(t.getAttribute("workflow")===e){let e=t.value;"checkbox"===t.getAttribute("type")&&(e=t.checked),n[t.getAttribute("name")]=e}}));let o=[];for(const e in n)o.push(encodeURIComponent(e)+"="+encodeURIComponent(n[e]));o=o.join("&"),fetch(l,{headers:{accept:"text/html,application/xhtml+xml,application/xml;q=0.9,image/avif,image/webp,image/apng,*/*;q=0.8,application/signed-exchange;v=b3;q=0.7","accept-language":"en-US,en;q=0.9","cache-control":"no-cache","content-type":"application/x-www-form-urlencoded",pragma:"no-cache","sec-ch-ua":'"Google Chrome";v="113", "Chromium";v="113", "Not-A.Brand";v="24"',"sec-ch-ua-mobile":"?0","sec-ch-ua-platform":'"macOS"',"sec-fetch-dest":"document","sec-fetch-mode":"navigate","sec-fetch-site":"same-origin","sec-fetch-user":"?1","upgrade-insecure-requests":"1"},referrer:window.location.origin+"/"+window.location.pathname,referrerPolicy:"no-referrer-when-downgrade",body:o,method:"POST",mode:"cors",credentials:"include"})}}w(),window.location.href===window.origin+re()?window.location.reload():window.location.href=window.origin+re()},i}function oe(e){if(!e.classList.contains("form-group")||!e.classList.contains("mt-1")||!e.classList.contains("mb-2"))return;const t=e.querySelector("div.form-group-header");let n=!1;e.classList.contains("required")&&(n=!0);let l="";if(l=t?t.children[0].innerText.trim():e.querySelector("label.color-fg-default").innerText.trim(),type="",value="",selectValues=[],input="",e.querySelector("select.form-select")){type="select";const t=e.querySelector("select.form-select");value=t.getAttribute("value"),input=t.getAttribute("name"),e.querySelectorAll("option").forEach((e=>{selectValues.push(e.getAttribute("value"))})),selectValues.sort()}return e.querySelector("div.form-checkbox")&&(type="boolean",e.querySelectorAll("input").forEach((e=>{"checkbox"==e.getAttribute("type")&&(value=e.getAttribute("value"),input=e.getAttribute("name"))}))),e.querySelector("input.form-control.input-contrast")&&(type="string",value=e.querySelector("input.form-control.input-contrast").getAttribute("value"),input=e.querySelector("input.form-control.input-contrast").getAttribute("name")),{name:l,input,type,value,required:n,selectValues,visible:!0}}function re(){const e=window.location.pathname.split("/");return"/"+e[1]+"/"+e[2]+"/actions"}async function ce(e,t=null){const n=e.children[3];let l={workflow:Y(e)};t&&(l={branch:t,workflow:Y(e),show_workflow_tip:""}),l="?"+function(e){let t=[];for(const n in e)t.push(encodeURIComponent(n)+"="+encodeURIComponent(e[n]));return t=t.join("&"),t}(l);const i=await fetch(function(){const e=window.location.pathname.split("/");return window.location.origin+"/"+e[1]+"/"+e[2]+"/actions/manual"}()+l,{headers:{accept:"text/html","accept-language":"en-US,en;q=0.9","sec-fetch-dest":"empty","sec-fetch-mode":"cors","sec-fetch-site":"same-origin","x-requested-with":"XMLHttpRequest"},referrer:window.location.origin+"/"+window.location.pathname,referrerPolicy:"no-referrer-when-downgrade",body:null,method:"GET",mode:"cors",credentials:"include"}),o=(new DOMParser).parseFromString(await i.text(),"text/html");a[N(e)]=!0;const c=o.querySelector("div.workflow-dispatch").querySelector("span.d-block");if(c&&c.innerText.includes("Workflow does not exist or does not have"))return e.setAttribute("data-ghflexible-checkbox","false"),void(n.disabled=!0);if(s[N(e)]){const t=[];o.querySelectorAll("div.form-group.mt-1.mb-2").forEach((e=>{t.push(oe(e))}));for(const n of s[N(e)].params)ue(n,t).param?n.visible=!0:n.visible=!1;for(const n of t){const t=ue(n,s[N(e)].params);t.param&&(s[N(e)].params[t.index].visible=!0)}}else s[N(e)]={token:"",title:X(e),workflowFile:Y(e),params:[]},o.querySelectorAll("div.form-group.mt-1.mb-2").forEach((t=>{s[N(e)].params.push(oe(t))}));let d="";if(o.querySelectorAll("input").forEach((e=>{"authenticity_token"==e.getAttribute("name")&&(d=e.value)})),s[N(e)].token=d,e.setAttribute("data-ghflexible-checkbox","true"),n.disabled=!1,!r){o.querySelectorAll("form").forEach((e=>{const t=e.getAttribute("method");"post"==t&&e.remove(),"get"==t&&e.setAttribute("data-ghflexible-form","true")}));const e=o.querySelector("body");r=document.createElement("div"),r.setAttribute("class","position-absolute Popover-message Popover-message--large Popover-message--ight mt-2 right-0 text-left p-3 mx-auto Box color-shadow-large GHGroupBuild"),r.appendChild(e.children[0]),r.style.position="absolute",r.style.zIndex=1e3,r.classList.remove("right-0"),r.querySelector("details.details-reset.details-overlay.d-inline-block").onclick=async function(){fe(r,"GHflexible-click-group-build")},fe(r,"GHflexible-click-group-build")}}function se(){return r.querySelector("span.css-truncate-target").innerText.trim()}function ae(e,t,n=!0){return!(e.name!==t.name||e.type!==t.type||e.required!==t.required||e.input!==t.input||!function(e,t){if(e===t)return!0;if(null==e||null==t)return!1;if(e.length!==t.length)return!1;for(var n=0;n<e.length;++n)if(e[n]!==t[n])return!1;return!0}(e.selectValues,t.selectValues)||!0!==n&&e.visible!==t.visible)}function de(e,t,n=!0){if(e.length!=t.length)return!1;for(const l of e){let e=!1;for(const i of t)ae(l,i,n)&&(e=!0);if(!e)return!1}return!0}function ue(e,t){for(let n=0;n<t.length;n++)if(ae(t[n],e))return{param:t[n],index:n};return{param:void 0,index:0}}function fe(e,t){e.classList.contains(t)||e.classList.add(t);for(var n=e.children,l=0;l<n.length;l++)fe(n[l],t)}window.addEventListener("turbo:load",(async function(){await async function(){if(!function(){const e=window.location.pathname.split("/");let t=!1;return"actions"===e[3]&&4===e.length&&(t=!0),"actions"===e[3]&&"workflows"===e[4]&&6===e.length&&(t=!0),"actions"===e[3]&&"caches"===e[4]&&5===e.length&&(t=!0),t}())return document.removeEventListener("click",u),document.removeEventListener("mousedown",f),window.removeEventListener("submit",d),window.onbeforeunload=null,r=void 0,s={},void(a={});console.log("Github-flexible init..."),await async function(){if(document.querySelector(n).children.length<11)return;let e=0,t=0;for(let n=0;n<1e5;n++){await p(10);let n=!0;if(n=h(),n&&!0!==n?(0==e&&(n.click(),t=0),e++):t++,t>5&&e>0)break;n=!0}}(),document.addEventListener("click",u),document.addEventListener("mousedown",f),window.addEventListener("submit",d),window.onbeforeunload=function(){g()};const t=document.querySelector(n),l=document.querySelector("ul.ActionList"),i=function(){const e=document.createElement("li"),t=document.createElement("div");t.style.marginLeft="auto";const n=document.createElement("div");return t.appendChild(n),e.appendChild(t),e.setAttribute("class","ActionList-sectionDivider"),e}();y(i,function(){const e=function(){const e=document.createElement("svg"),t=C();return e.innerHTML=`<svg height="15px" width="15px" version="1.1" id="_x32_" xmlns="http://www.w3.org/2000/svg" xmlns:xlink="http://www.w3.org/1999/xlink" viewBox="0 0 512 512"  xml:space="preserve"><style type="text/css">\n   .st0{fill:${t};}</style><g><path class="st0" d="M503.654,101.298h-43.289V58c0-4.61-3.727-8.338-8.329-8.338h-16.833c-4.602,0-8.347,3.728-8.347,8.338v43.298h-43.289c-4.602,0-8.329,3.727-8.329,8.329v16.833c0,4.602,3.727,8.346,8.329,8.346h43.289v43.29c0,4.601,3.745,8.337,8.347,8.337h16.833c4.602,0,8.329-3.736,8.329-8.337v-43.29h43.289c4.619,0,8.346-3.744,8.346-8.346v-16.833C512,105.026,508.273,101.298,503.654,101.298z"/><path class="st0" d="M500.836,239.74l-0.21-0.428l-0.28-0.394c-8.556-12.616-22.817-20.367-38.216-20.367H382.22l-12.633-36.115l-0.385,0.096c-8.836-19.204-27.839-32.178-49.519-32.178H144.986c-1.994-0.026-4.041-1.129-5.231-3.666l0.017,0.035c-8.592-18.889-27.314-31.329-48.224-31.329H46.474c-0.035,0-0.035-0.009-0.052-0.009c-15.118,0.009-29.134,7.489-37.743,19.702l-0.595,0.866l-0.123,0.376C2.748,144.22,0,153.355,0,162.611c0,4.768,0.736,9.571,2.188,14.243H2.17l0.018,0.035l0.017,0.061l0.018,0.062v0.017l76.115,247.645v0.035l0.332,1.033c6.912,21.801,27.121,36.587,49.973,36.587l272.719,0.009c19.72-0.009,37.48-11.102,46.404-28.268l0.437,0.141l57.516-152.178l0.07-0.201l0.017-0.062l0.018-0.035c1.838-5.196,2.73-10.62,2.73-15.992c0-9.098-2.625-18.136-7.717-25.984V239.74z M472.63,270.011l-55.03,145.58l-0.035,0.106c-2.432,6.859-8.941,11.443-16.203,11.443l-272.719-0.017c-7.506,0.017-14.156-4.848-16.412-12.004L35.783,166.382l0.017,0.043c-0.402-1.251-0.595-2.537-0.595-3.814c0-2.608,0.805-5.162,2.258-7.244l-0.018,0.017c2.223-3.114,5.547-4.786,8.994-4.786h45.11c6.754,0,13.106,4.007,16.185,10.735c6.649,14.602,21.12,24.217,37.253,24.217h174.697c8.294,0,15.906,5.486,18.653,14.156l0.07,0.21l8.994,25.678H207.733c-20.279,0-38.18,13.019-44.951,32.134l-35.608,102.904l26.596,9.204l35.573-102.781l-0.035,0.122c2.974-8.276,10.376-13.42,18.425-13.42h254.399c3.482,0,6.912,1.741,9.1,4.97c1.364,2.029,2.134,4.496,2.117,7.016C473.348,267.186,473.103,268.629,472.63,270.011z"/></g></svg>`,e.firstChild}();return e.style.marginRight="0.5em",e.style.width="20px",e.style.height="20px",e.style.cursor="pointer",e.onclick=function(){let e=document.querySelector(n),t=D("");e.children[0].after(t),t.after(te());let l=t.children[1],i=l.innerText;l.innerText="";let o=document.createElement("input");o.value=i,o.type="text",l.before(o),o.focus(),o.select(),o.onmousedown=function(e){e.stopPropagation()};let r=!0;function c(e){e.stopPropagation(),e.preventDefault(),o&&null===o.getAttribute("data-ghflexible-event-lock")&&(o.setAttribute("data-ghflexible-event-lock",e.type),i=o.value,o.value="",l.innerText=i,t.setAttribute("data-ghflexible-rename",i),r&&(r=!1,t.setAttribute("data-ghflexible-name",i)),Z(),o.remove(),o.removeAttribute("data-ghflexible-event-lock"),o=null,Z())}o.onblur=function(e){c(e)},o.onchange=function(e){c(e)},o.onkeypress=function(e){"Enter"===e.key&&c(e)},Z()},e}()),y(i,function(){const t=S();return t.style.marginRight="0.5em",t.style.width="20px",t.style.height="20px",t.style.cursor="pointer",t.onclick=function(){e?(g(),Z()):(function(){const t=document.querySelector(n);e=!0,W(t,(function(e){let t=e,l=P(t);T(t,l),(z(e)||B(e))&&(e.children[2].onmousedown=null,e.children[2].removeAttribute("hidden"),e.children[2].onmousedown=function(t){M(e.children[2],t)}),t.ondragstart=function(){return!1};let i=Object.assign({},t.style);z(t)&&(t.children[0].onmousedown=null,t.children[1].onmousedown=null,t.oncontextmenu=function(e){e.stopPropagation(),e.preventDefault(),le();const n=document.createElement("div");n.classList.add("GHflexible-contextmenu"),n.style.position="absolute",n.style.zIndex=1e3,n.style.width="4em",n.style.height="2.5em",n.style.background="#f6f8fa",n.style.borderStyle="solid",n.style.borderColor="#d6d9dc",n.style.borderWidth="1px",n.style.borderRadius="0.5em",n.style.left=e.pageX+"px",n.style.top=e.pageY+"px";const l=document.createElement("p");l.classList.add("GHflexible-contextmenu"),l.style.marginLeft="0.45em",l.style.marginRight="0.45em",l.style.marginTop="0.4em",l.style.cursor="pointer",l.innerHTML="delete",l.style.color="#000000","dark"==H()&&(l.style.color="#ffffff",n.style.background="#000000"),n.append(l),document.body.append(n),l.onmouseover=function(e){l.style.background="#B6E3FF"},l.onmouseout=function(e){l.style.background=""},l.onclick=function(e){let n=t.parentElement,l=t.children[3];for(;l.children[1];)n.appendChild(l.children[1]);if(!V(n)&&z(n.parentElement)&&(n=n.parentElement),V(n))for(let e=0;e<n.children.length;e++){let t=n.children[e];(B(t)||z(t))&&t.removeAttribute("hidden")}W(n,(function(e){z(e)&&F(e),T(e,P(e))})),le();let i=b(t.parentElement,t),o=t.parentElement.children[i+1];t.remove(),o.remove(),delete t,delete o}}),t.onmousedown=function(e){const l=Date.now();if(e.stopPropagation(),e.preventDefault(),3===e.which)return;W(document.querySelector(n),(function(e){e.children[2].setAttribute("hidden","")})),z(t)&&(O(t),t.children[2].style.marginLeft="40px"),le(),document.querySelectorAll("li.GHflexible-first-dropable").forEach((e=>{e.style.height="0.5em"}));let o=t.parentElement,r=b(o,t),c=o.children[r+1];function s(e,n){t.style.left=e-t.offsetWidth/2+"px",t.style.top=n-t.offsetHeight/2+"px"}t.style.position="absolute",t.style.zIndex=1e3,document.body.append(t),s(e.pageX,e.pageY);let a=null;function d(e){(function(e){let t=b(e.parentElement,e),n=e.parentElement.children[t-1];ne(n)&&(n.style.height="0em")})(e),u(e)}function u(e){let t=b(e.parentElement,e),n=e.parentElement.children[t+1];ne(n)&&(n.style.height="0em")}function f(e){let t=b(e.parentElement,e);dline=e.parentElement.children[t+1],ne(dline)&&(dline.style.height="1em")}function h(e){s(e.pageX,e.pageY),t.hidden=!0;let n=document.elementFromPoint(e.clientX,e.clientY);if(t.hidden=!1,!n)return;let l=n.closest(".GHflexible-dropable");if(a!=l){if(a&&(z(a)&&(1==b(a.parentElement,a)?u(a):d(a),a.style.removeProperty("background-color")),B(a)&&(1==b(a.parentElement,a)?u(a):d(a)),ne(a))){let e=b(a.parentElement,a);a.style.height=0==e?"0.5em":"0em"}a=l,a&&(ne(a)&&(a.style.height="1.5em"),z(a)&&(f(a),"dark"==H()?a.style.backgroundColor="#2f2821":a.style.backgroundColor="#d0d7de"),B(a)&&f(a))}}document.addEventListener("mousemove",h),t.onmouseup=function(){if(document.removeEventListener("mousemove",h),t.onmouseup=null,t.style=Object.assign({},i),t.style.listStyleType="none",B(t)&&(t.children[1].style.marginLeft="0.3em",t.style.display="flex",t.children[1].style.flex="1"),a&&Date.now()-l>250){if(z(a)){a.style.backgroundColor="transparent",1==b(a.parentElement,a)?u(a):d(a),a.children[3].appendChild(t),a.children[3].appendChild(c),F(a);let e=P(t);T(t,e)}if(B(a)){let e=b(a.parentElement,a);1==e?u(a):d(a),a.parentElement.children[e+1].after(t),t.after(c);let n=P(t);T(t,n)}if(ne(a)){a.style.height="0em",a.after(t),t.after(c);let e=P(t);T(t,e)}z(a.parentElement.parentElement)&&F(a.parentElement.parentElement),Z()}else{0==r?o.prepend(t):r>0&&o.children[r-1].after(t);let e=P(t);T(t,e),t.after(c),Z()}document.querySelectorAll("li.GHflexible-first-dropable").forEach((e=>{e.style.height="0em"})),W(document.querySelector(n),(function(e){e.children[2].removeAttribute("hidden")})),z(t)&&W(t,(function(e){T(e,P(e))}))}}}))}(),Z())},t}()),y(i,function(){const e=function(){const e=document.createElement("svg"),t=C();return e.innerHTML=`<svg fill="${t}" width="15px" height="15px" viewBox="0 0 1920 1920" xmlns="http://www.w3.org/2000/svg"><path d="M960 0v112.941c467.125 0 847.059 379.934 847.059 847.059 0 467.125-379.934 847.059-847.059 847.059-467.125 0-847.059-379.934-847.059-847.059 0-267.106 126.607-515.915 338.824-675.727v393.374h112.94V112.941H0v112.941h342.89C127.058 407.38 0 674.711 0 960c0 529.355 430.645 960 960 960s960-430.645 960-960S1489.355 0 960 0" fill-rule="evenodd"/></svg>`,e.firstChild}();return e.style.marginRight="0.5em",e.style.width="20px",e.style.height="20px",e.style.cursor="pointer",e.onclick=function(e){!0===confirm("Are you sure you want to reset the settings? This will delete all folders and reset all workflows to their original state.")&&(localStorage.removeItem(J()),document.querySelector(n).remove(),window.location.reload())},e}()),l.children[1].after(i),t.prepend(te({first:!0})),await async function(){let e=document.querySelector(n);for(let t=0;t<e.children.length;t++){let n=e.children[t];if("workflows-show-more"!=n.getAttribute("data-test-selector")&&!ne(n)){if(!n.classList.contains("GHflexible-dir")&&!n.classList.contains("GHflexible-workflow")){n.classList.add("GHflexible-workflow");const e=q();e.style.width="15px",e.style.height="20px";const t=G();t.style.width="15px",t.style.height="20px",n.prepend(e);let l=n.children[1].children[0].innerText;n.setAttribute("data-ghflexible-name",l),n.setAttribute("data-ghflexible-rename",l),n.setAttribute("data-ghflexible-type","workflow"),n.setAttribute("data-ghflexible-element-indent","0"),n.children[1].style.marginLeft="0.3em",n.style.display="flex",n.style.outline="none",n.children[1].style.flex="1",n.children[1].setAttribute("class",""),n.appendChild(t),n.after(te())}n.classList.contains("GHflexible-dropable")||n.classList.add("GHflexible-dropable")}}Z()}(),await async function(){const e=document.querySelector(n),t=[];await j(e,(async function(e){if(B(e)){const n=function(){const e=document.createElement("input");return e.style.marginLeft="2px",e.setAttribute("type","checkbox"),e}();n.classList.add("GHflexible-click-group-build"),t.push(n),e.appendChild(n),k(e),n.onchange=async function(){n.checked&&!a[N(e)]&&(console.log(`# Run getParams for workflow: ${N(e)}, when onchange ckecbox`),await ce(e,se()));const l=ie(t),i=r.querySelector("div.workflow-dispatch");i.children[1]&&i.children[1].remove(),i.appendChild(l)}}}))}(),function(){let e={type:o,title:"",list:[]};localStorage.hasOwnProperty(J())&&(e=JSON.parse(localStorage.getItem(J())));ee(e,document.querySelector(n))}(),g(),Z(),await j(t,(async function(e){B(e)&&!r&&(await ce(e),r&&y(i,x()))})),null==i.children[0].children[0].children[3]&&y(i,x()),W(t,(function(e){B(e)&&ce(e)}))}()}))})();